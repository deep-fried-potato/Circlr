<!-- chat/templates/chat/index.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Chat Rooms</title>
</head>
<body>
     You are : {{request.user.username}}<br/>
     <a href="/logout"><button>logout</button></a>
     <h3><p>Recents</p></h3>
     {%for item in recentlist%}
      <p style="cursor:pointer;" onclick="roomNameGen('{{request.user.username}}','{{item}}')">{{item}}</p>
     {%endfor%}

      <h3><p>All users</p></h3>
      {%for user in userlist%}
        {%if user.username != request.user.username %}
          <p style="cursor:pointer;" onclick="roomNameGen('{{request.user.username}}','{{user.username}}')">{{user.username}}</p>
        {%endif%}
      {%endfor%}

    <script>

      function roomNameGen(userid,friendid){
        var roomName = [userid,friendid].sort().join("");
        document.cookie="userid="+userid;

        window.location.pathname = '/chat/' + roomName + '/';

      };


    </script>
</body>
</html>
